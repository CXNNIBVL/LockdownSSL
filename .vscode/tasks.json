{
    "version": "2.0.0",
    "tasks": 
    [
        {
            "type": "shell",
            "label": "rmdir intermediate",
            "command": "rm",
            "args": [ "-r", "-f", "${workspaceFolder}/build/intermediate/*.o" ]
        },

        /* ===== Build Library ===== */
        {
            "type": "shell",
            "label": "Build LockdownSSL Obj",
            "command": "g++",
            "problemMatcher": "$gcc",
            "options": {
                "cwd": "${workspaceFolder}/build/intermediate/",
            },
            "args": 
            [
                "-Wall",
                "-Wno-sign-compare",
                "-c",
                "-I", "${workspaceFolder}/include/",
                "-g", "${workspaceFolder}/lib/*/*.cpp",
            ]
        },
        
        {
            "type": "shell",
            "label": "Pack Library",
            "dependsOn": "Build LockdownSSL Obj",
            "command": "ar",
            "args": 
            [
                "-rvs", "${workspaceFolder}/build/libLockdownSSL.a",
                "${workspaceFolder}/build/intermediate/*.o"
            ]
        },

        {
            "type": "shell",
            "label": "Build LockdownSSL Library",
            "dependsOn": "Pack Library",
            "command": "ranlib",
            "args": ["${workspaceFolder}/build/libLockdownSSL.a"]
        },
        /* ========================= */
        
        /* ===== Build LockdownSSL Test Suite ===== */
        {
            "type": "shell",
            "label": "Build LockdownSSL Test Suite",
            "dependsOn": "Build LockdownSSL Library",
            "command": "g++",
            "args": 
            [
                "-Wall",
                "-Wno-sign-compare",
                "-I", "${workspaceFolder}/include/",
                "-L", "${workspaceFolder}/build/",
                "-g", "${workspaceFolder}/build/test/LockdownSSLTest.cpp",
                "-l", "LockdownSSL",
                "-o", "${workspaceFolder}/build/LockdownSSLTest.exe"
            ]
        },
        /* ========================= */

        /* ===== Build Debug LockdownSSL ===== */
        {
            "type": "shell",
            "label": "Build Debug LockdownSSL",
            "dependsOn": "Build LockdownSSL Library",
            "command": "g++",
            "problemMatcher": "$gcc",
            "args": 
            [
                "-Wall",
                "-Wno-sign-compare",
                "-I", "${workspaceFolder}/include/",
                "-L", "${workspaceFolder}/build/",
                "-g", "${workspaceFolder}/Application/main.cpp",
                "-l", "LockdownSSL",
                "-o", "${workspaceFolder}/Application/main.exe"
            ]
        },
        /* ============================= */
    ]
}